var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,r;function a(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function w(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function $(t){r=t}const b=[],_=[];let x=[];const k=[],C=Promise.resolve();let E=!1;function S(t){x.push(t)}const O=new Set;let I=0;function N(){if(0!==I)return;const t=r;do{try{for(;I<b.length;){const t=b[I];I++,$(t),A(t.$$)}}catch(t){throw b.length=0,I=0,t}for($(null),b.length=0,I=0;_.length;)_.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];O.has(e)||(O.add(e),e())}x.length=0}while(b.length);for(;k.length;)k.pop()();E=!1,O.clear(),$(t)}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const H=new Set;function K(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];x.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),x=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,C.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(i,l,a,c,d,m,p,f=[-1]){const h=r;$(i);const g=i.$$={fragment:null,ctx:[],props:m,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:l.target||h.$$.root};p&&p(g.root);let v=!1;if(g.ctx=a?a(i,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&d(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),v&&L(i,t)),e})):[],g.update(),v=!0,o(g.before_update),g.fragment=!!c&&c(g.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);g.fragment&&g.fragment.l(t),t.forEach(u)}else g.fragment&&g.fragment.c();l.intro&&((y=i.$$.fragment)&&y.i&&(H.delete(y),y.i(w))),function(t,n,i,l){const{fragment:r,after_update:a}=t.$$;r&&r.m(n,i),l||S((()=>{const n=t.$$.on_mount.map(e).filter(s);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(S)}(i,l.target,l.anchor,l.customElement),N()}var y,w;$(h)}class z{$destroy(){K(this,1),this.$destroy=t}$on(e,n){if(!s(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t,e,n){const o=t.slice();return o[20]=e[n],o}function M(t,e,n){const o=t.slice();return o[23]=e[n],o}function q(t){let e,n,s,i,l,r,d,p,v,$,b,_,x,k,C,E,O,I,N,A,H,K;return{c(){e=m("div"),n=m("h2"),n.textContent="Settings",s=f(),i=m("div"),i.textContent="Name",l=f(),r=m("input"),d=f(),p=m("div"),p.textContent="Location",v=f(),$=m("input"),b=f(),_=m("div"),_.textContent="Openweathermap API key",x=f(),k=m("input"),C=f(),E=m("div"),E.textContent="Units",O=f(),I=m("select"),N=m("option"),N.textContent="metric",A=m("option"),A.textContent="imperial",g(n,"id","settings-header"),g(n,"class","svelte-1ym9pwo"),g(i,"class","label svelte-1ym9pwo"),g(r,"type","text"),g(r,"class","svelte-1ym9pwo"),g(p,"class","label svelte-1ym9pwo"),g($,"type","text"),g($,"class","svelte-1ym9pwo"),g(_,"class","label svelte-1ym9pwo"),g(k,"type","text"),g(k,"class","svelte-1ym9pwo"),g(E,"class","label svelte-1ym9pwo"),N.__value="metric",N.value=N.__value,A.__value="imperial",A.value=A.__value,g(I,"class","svelte-1ym9pwo"),void 0===t[9].units&&S((()=>t[16].call(I))),g(e,"id","settings"),g(e,"class","svelte-1ym9pwo")},m(o,u){c(o,e,u),a(e,n),a(e,s),a(e,i),a(e,l),a(e,r),y(r,t[9].name),a(e,d),a(e,p),a(e,v),a(e,$),y($,t[9].location),a(e,b),a(e,_),a(e,x),a(e,k),y(k,t[9].apiKey),a(e,C),a(e,E),a(e,O),a(e,I),a(I,N),a(I,A),w(I,t[9].units,!0),H||(K=[h(r,"input",t[13]),h($,"input",t[14]),h(k,"input",t[15]),h(I,"change",t[16])],H=!0)},p(t,e){512&e&&r.value!==t[9].name&&y(r,t[9].name),512&e&&$.value!==t[9].location&&y($,t[9].location),512&e&&k.value!==t[9].apiKey&&y(k,t[9].apiKey),512&e&&w(I,t[9].units)},d(t){t&&u(e),H=!1,o(K)}}}function P(t){let e,n,o,s,i,l,r,y,w,$,b,_,x,k,C,E,S,O,I=t[9].name?", "+t[9].name:"",N=t[2]&&T(t),A=t[9].links,H=[];for(let e=0;e<A.length;e+=1)H[e]=R(D(t,A,e));return{c(){e=m("div"),n=m("div"),o=m("h1"),s=p("Good "),i=p(t[5]),l=p(I),r=p("."),y=f(),w=m("h2"),$=p("Today is "),b=p(t[6]),_=p("."),x=f(),k=m("div"),N&&N.c(),C=f(),E=m("div");for(let t=0;t<H.length;t+=1)H[t].c();g(o,"id","greeting"),g(o,"class","svelte-1ym9pwo"),g(w,"id","date"),g(w,"class","svelte-1ym9pwo"),g(n,"id","heading"),g(n,"class","svelte-1ym9pwo"),g(k,"id","weather-container"),g(k,"class","svelte-1ym9pwo"),g(e,"id","heading-container"),g(e,"class","svelte-1ym9pwo"),g(E,"id","links"),g(E,"class","svelte-1ym9pwo")},m(u,d){c(u,e,d),a(e,n),a(n,o),a(o,s),a(o,i),a(o,l),a(o,r),a(n,y),a(n,w),a(w,$),a(w,b),a(w,_),a(e,x),a(e,k),N&&N.m(k,null),c(u,C,d),c(u,E,d);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(E,null);S||(O=h(k,"click",t[11]),S=!0)},p(t,e){if(32&e&&v(i,t[5]),512&e&&I!==(I=t[9].name?", "+t[9].name:"")&&v(l,I),64&e&&v(b,t[6]),t[2]?N?N.p(t,e):(N=T(t),N.c(),N.m(k,null)):N&&(N.d(1),N=null),512&e){let n;for(A=t[9].links,n=0;n<A.length;n+=1){const o=D(t,A,n);H[n]?H[n].p(o,e):(H[n]=R(o),H[n].c(),H[n].m(E,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=A.length}},d(t){t&&u(e),N&&N.d(),t&&u(C),t&&u(E),d(H,t),S=!1,O()}}}function T(t){let e,n,o,s,i,l,r,d;return{c(){e=m("div"),n=p(t[4]),o=p("Â°"),s=f(),i=m("div"),i.textContent=`in ${t[10]}`,l=f(),r=m("div"),g(e,"id","temperature"),g(e,"class","svelte-1ym9pwo"),g(i,"id","location"),g(i,"class","svelte-1ym9pwo"),g(r,"class",d="weather-icon "+t[3]+" svelte-1ym9pwo")},m(t,u){c(t,e,u),a(e,n),a(e,o),c(t,s,u),c(t,i,u),c(t,l,u),c(t,r,u)},p(t,e){16&e&&v(n,t[4]),8&e&&d!==(d="weather-icon "+t[3]+" svelte-1ym9pwo")&&g(r,"class",d)},d(t){t&&u(e),t&&u(s),t&&u(i),t&&u(l),t&&u(r)}}}function J(t){let e,n,o,s,i,l,r,d,h=t[23].name+"";return{c(){e=m("a"),n=m("span"),n.textContent=">",o=f(),s=m("span"),i=p(h),r=f(),d=m("br"),g(n,"class","arrow svelte-1ym9pwo"),g(s,"class","text svelte-1ym9pwo"),g(e,"href",l=t[23].url),g(e,"class","svelte-1ym9pwo")},m(t,l){c(t,e,l),a(e,n),a(e,o),a(e,s),a(s,i),c(t,r,l),c(t,d,l)},p(t,n){512&n&&h!==(h=t[23].name+"")&&v(i,h),512&n&&l!==(l=t[23].url)&&g(e,"href",l)},d(t){t&&u(e),t&&u(r),t&&u(d)}}}function R(t){let e,n,o=t[20],s=[];for(let e=0;e<o.length;e+=1)s[e]=J(M(t,o,e));return{c(){e=m("div");for(let t=0;t<s.length;t+=1)s[t].c();n=f(),g(e,"class","link-column svelte-1ym9pwo")},m(t,o){c(t,e,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);a(e,n)},p(t,i){if(512&i){let l;for(o=t[20],l=0;l<o.length;l+=1){const r=M(t,o,l);s[l]?s[l].p(r,i):(s[l]=J(r),s[l].c(),s[l].m(e,n))}for(;l<s.length;l+=1)s[l].d(1);s.length=o.length}},d(t){t&&u(e),d(s,t)}}}function U(e){let n,o,s,i,r,d,y,w,$,b,_,x,k,C,E,S,O,I,N;function A(t,e){return t[1]?q:P}let H=A(e),K=H(e);return{c(){var t,a;n=m("main"),o=m("div"),s=m("div"),i=m("img"),d=f(),y=m("div"),w=p(e[8]),$=p(":"),b=p(e[7]),_=f(),x=m("div"),K.c(),k=f(),C=m("div"),E=m("button"),E.textContent="settings",S=f(),O=m("a"),O.textContent="v1.2.2",g(i,"id","image"),t=i.src,a=r="build/1.gif",l||(l=document.createElement("a")),l.href=a,t!==l.href&&g(i,"src","build/1.gif"),g(i,"alt",""),g(i,"class","svelte-1ym9pwo"),g(y,"id","time"),g(y,"class","svelte-1ym9pwo"),g(s,"id","image-container"),g(s,"class","svelte-1ym9pwo"),g(x,"id","box"),g(x,"class","svelte-1ym9pwo"),g(o,"id","content"),g(o,"class","svelte-1ym9pwo"),g(E,"id","settings-button"),g(E,"class","svelte-1ym9pwo"),g(O,"href","#"),g(O,"id","version"),g(O,"class","svelte-1ym9pwo"),g(C,"id","corner"),g(C,"class","svelte-1ym9pwo"),g(n,"class","svelte-1ym9pwo")},m(t,l){c(t,n,l),a(n,o),a(o,s),a(s,i),a(s,d),a(s,y),a(y,w),a(y,$),a(y,b),a(o,_),a(o,x),K.m(x,null),a(n,k),a(n,C),a(C,E),a(C,S),a(C,O),I||(N=h(E,"click",e[17]),I=!0)},p(t,[e]){256&e&&v(w,t[8]),128&e&&v(b,t[7]),H===(H=A(t))&&K?K.p(t,e):(K.d(1),K=H(t),K&&(K.c(),K.m(x,null)))},i:t,o:t,d(t){t&&u(n),K.d(),I=!1,N()}}}function B(t){return t<10?"0"+t:t}function G(e,n,o){let s,i,l,r,a,c=t,u=()=>(c(),c=function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(d,(t=>o(9,a=t))),d);e.$$.on_destroy.push((()=>c()));let{config:d}=n;u();let m,p=!1,f=new Date,h="none",g=0,v=a.location;async function y(){const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${a.location}&units=${a.units}&appid=${a.apiKey}`);if(t.ok)if(o(2,m=await t.json()),o(4,g=Math.round(m.main.temp)),"Clear"===m.weather[0].main){let t=Math.floor(f/1e3);t<m.sys.sunrise||t>m.sys.sunset?o(3,h="moon"):o(3,h="sun")}else"Rain"===m.weather[0].main||"Drizzle"===m.weather[0].main||"Thunderstorm"===m.weather[0].main?o(3,h="rain"):"Snow"===m.weather[0].main?o(3,h="snow"):o(3,h="cloud");else console.warn("Your Openweathermap API key is probably missing or invalid.")}setInterval((()=>{o(12,f=new Date)}),1e3),setInterval((()=>{y()}),3e5),d.subscribe((t=>{y()}));return e.$$set=t=>{"config"in t&&u(o(0,d=t.config))},e.$$.update=()=>{4096&e.$$.dirty&&o(8,s=B(f.getHours()%12==0?12:f.getHours()%12)),4096&e.$$.dirty&&o(7,i=B(f.getMinutes())),4096&e.$$.dirty&&o(6,l=f.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),4096&e.$$.dirty&&o(5,r=f.getHours()<2?"night":f.getHours()<12?"morning":f.getHours()<18?"afternoon":f.getHours()<22?"evening":"night")},[d,p,m,h,g,r,l,i,s,a,v,y,f,function(){a.name=this.value,d.set(a)},function(){a.location=this.value,d.set(a)},function(){a.apiKey=this.value,d.set(a)},function(){a.units=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),d.set(a)},()=>o(1,p=!p)]}const Y=[];const F=function(e,n=t){let o;const s=new Set;function l(t){if(i(e,t)&&(e=t,o)){const t=!Y.length;for(const t of s)t[1](),Y.push(t,e);if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,r=t){const a=[i,r];return s.add(a),1===s.size&&(o=n(l)||t),i(e),()=>{s.delete(a),0===s.size&&o&&(o(),o=null)}}}}(JSON.parse(localStorage.getItem("config"))??{name:"USER",location:"London",units:"imperial",apiKey:"",links:[[{name:"gmail",url:"https://mail.google.com"},{name:"calendar",url:"https://calendar.google.com"},{name:"drive",url:"https://drive.google.com"},{name:"docs",url:"https://docs.google.com"}],[{name:"github",url:"https://github.com"},{name:"translate",url:"https://translate.google.com"},{name:"finance",url:"https://finance.yahoo.com"},{name:"type",url:"https://monkeytype.com"}],[{name:"youtube",url:"https://youtube.com"},{name:"twitch",url:"https://twitch.tv"},{name:"reddit",url:"https://reddit.com"},{name:"insta",url:"http://instagram.com"}]]});console.log(F),F.subscribe((t=>{localStorage.setItem("config",JSON.stringify(t))}));return new class extends z{constructor(t){super(),j(this,t,G,U,i,{config:0})}}({target:document.body,props:{config:F}})}();
//# sourceMappingURL=bundle.js.map
